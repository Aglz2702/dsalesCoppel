<template>
    <div >
        <div class="slds-modal__header">
            <h1 id="modal-heading-11" class="slds-text-heading_medium slds-hyphenate">
           Asignación de tiendas
       </h1>
       </div>
       <div class="screen-divider" style="width: 100%; height: 14px; background-color: #ffffff;"></div>
       <div style="display: flex; justify-content: flex-end;">
        <lightning-input type="checkbox" checked={vincular} onchange={opcionVincular}
        label="Vincular" name="Vincular tiendas"></lightning-input>
        <lightning-input type="checkbox" checked={desvincular} onchange={opcionDesvincular}
        label="Desvincular" name="Desvincular tiendas"></lightning-input>
        <lightning-button variant="brand" label="Guardar" title="Guardar configuracion" onclick={guardarAsignacion}
           class="slds-var-m-right_xx-large"></lightning-button>
       </div>
       <div class="slds-p-around_large" style="max-height: 200px; overflow-y: auto;">
         <div class="slds-grid slds-wrap slds-box_x-large">
           <div if:true={gerenteActivado} class="slds-col slds-grow-none slds-size_3-of-12 slds-truncate">
               <table class="slds-table slds-table_cell-buffer slds-table_bordered slds-table_striped" >
                 <thead>
                     <tr class="slds-line-height_reset">
                         <th class="" scope="col">
                             <lightning-input type="checkbox" checked={checkRegion} onchange={selectAllRegion}
                                 label="Región" name="input"></lightning-input>
                         </th>
                     </tr>
                 </thead>
                 <tbody>
                     <template for:each={data.listRegiones} for:item="record">
                         <tr class="slds-hint-parent" key={record.valor} if:true={record.mostrar}>
                             <td>
                                 <lightning-input checked={record.seleccionado} onchange={onclickRegion}
                                     type="checkbox" label={record.etiqueta} name={record.valor}>
                                 </lightning-input>
                             </td>
                         </tr>
                     </template>
                 </tbody>
             </table>
             
           </div>
           <div if:true={gerenteActivado} class="slds-col slds-grow-none slds-size_3-of-12 slds-truncate">
               <table class="slds-table slds-table_cell-buffer slds-table_bordered slds-table_striped">
                   <thead>
                       <tr class="slds-line-height_reset">
                           <th class="" scope="col">
                               <lightning-input type="checkbox" checked={checkCiudad}
                                   onchange={selectAllCiudad} label="Ciudad" name="input2">
                               </lightning-input>
                           </th>
                       </tr>
                   </thead>
                   <tbody>
                       <template for:each={data.listCiudades} for:item="record">
                           <tr class="slds-hint-parent" key={record.valor} if:true={record.mostrar}>
                               <td>
                                   <lightning-input checked={record.seleccionado} onchange={onclickCiudad}
                                       type="checkbox" label={record.etiqueta} name={record.valor}>
                                   </lightning-input>
                               </td>
                           </tr>
                       </template>
                   </tbody>
               </table>
           </div>

           <div if:true={gerenteActivado} class="slds-col slds-grow-none slds-size_3-of-12 slds-truncate">
            <table class="slds-table slds-table_cell-buffer slds-table_bordered slds-table_striped">
                <thead>
                    <tr class="slds-line-height_reset">
                        <th class="" scope="col">
                            <lightning-input type="checkbox" checked={checkGerente}
                                onchange={selectAllGerente} label="Gerente por zona" name="Gerente por zona">
                            </lightning-input>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <template for:each={data.listGerentes} for:item="record">
                        <tr class="slds-hint-parent" key={record.valor} if:true={record.mostrar}>
                            <td>
                                <lightning-input checked={record.seleccionado} onchange={onclickGerente}
                                    type="checkbox" label={record.etiqueta} name={record.valor}>
                                </lightning-input>
                            </td>
                        </tr>
                    </template>
                </tbody>
            </table>
        </div>

           <div if:true={gerenteActivado} class="slds-col slds-grow-none slds-size_3-of-12 slds-truncate">
               <table class="slds-table slds-table_cell-buffer slds-table_bordered slds-table_striped">
                   <thead>
                       <tr class="slds-line-height_reset">
                           <th class="" scope="col">
                               <lightning-input type="checkbox" checked={checkTienda} onchange={selectAllTienda}
                                   label="ID Tienda" name="input4"></lightning-input>
                           </th>
                       </tr>
                   </thead>
                   <tbody>
                       <template for:each={data.listTiendas} for:item="record">
                           <tr class="slds-hint-parent" key={record.valor} if:true={record.mostrar}>
                               <td>
                                   <lightning-input checked={record.seleccionado} onchange={onclicklistTiendas}
                                       type="checkbox" label={record.etiqueta} name={record.valor}>
                                   </lightning-input>
                               </td>
                           </tr>
                       </template>
                   </tbody>
               </table>
           </div>


           <div if:false={gerenteActivado} class="slds-col slds-grow-none slds-size_4-of-12 slds-truncate">
            <table class="slds-table slds-table_cell-buffer slds-table_bordered slds-table_striped" >
              <thead>
                  <tr class="slds-line-height_reset">
                      <th class="" scope="col">
                          <lightning-input type="checkbox" checked={checkRegion} onchange={selectAllRegion}
                              label="Región" name="input"></lightning-input>
                      </th>
                  </tr>
              </thead>
              <tbody>
                  <template for:each={data.listRegiones} for:item="record">
                      <tr class="slds-hint-parent" key={record.valor} if:true={record.mostrar}>
                          <td>
                              <lightning-input checked={record.seleccionado} onchange={onclickRegion}
                                  type="checkbox" label={record.etiqueta} name={record.valor}>
                              </lightning-input>
                          </td>
                      </tr>
                  </template>
              </tbody>
          </table>
          
        </div>
        <div if:false={gerenteActivado} class="slds-col slds-grow-none slds-size_4-of-12 slds-truncate">
            <table class="slds-table slds-table_cell-buffer slds-table_bordered slds-table_striped">
                <thead>
                    <tr class="slds-line-height_reset">
                        <th class="" scope="col">
                            <lightning-input type="checkbox" checked={checkCiudad}
                                onchange={selectAllCiudad} label="Ciudad" name="input2">
                            </lightning-input>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <template for:each={data.listCiudades} for:item="record">
                        <tr class="slds-hint-parent" key={record.valor} if:true={record.mostrar}>
                            <td>
                                <lightning-input checked={record.seleccionado} onchange={onclickCiudad}
                                    type="checkbox" label={record.etiqueta} name={record.valor}>
                                </lightning-input>
                            </td>
                        </tr>
                    </template>
                </tbody>
            </table>
        </div>
        <div if:false={gerenteActivado} class="slds-col slds-grow-none slds-size_4-of-12 slds-truncate">
            <table class="slds-table slds-table_cell-buffer slds-table_bordered slds-table_striped">
                <thead>
                    <tr class="slds-line-height_reset">
                        <th class="" scope="col">
                            <lightning-input type="checkbox" checked={checkTienda} onchange={selectAllTienda}
                                label="ID Tienda" name="input4"></lightning-input>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <template for:each={data.listTiendas} for:item="record">
                        <tr class="slds-hint-parent" key={record.valor} if:true={record.mostrar}>
                            <td>
                                <lightning-input checked={record.seleccionado} onchange={onclicklistTiendas}
                                    type="checkbox" label={record.etiqueta} name={record.valor}>
                                </lightning-input>
                            </td>
                        </tr>
                    </template>
                </tbody>
            </table>
        </div>
       </div>
       </div>
    </div>
    <div class="slds-modal__header">
        <h1 id="modal-heading-111" class="slds-text-heading_medium slds-hyphenate">
        Tiendas asignadas
   </h1>
   </div>
    <div class="slds-p-around_large" style="max-height: 200px; overflow-y: auto;">
        <div class="slds-grid slds-grid_vertical-align-center slds-box_x-small">
            <table class="slds-table slds-table_cell-buffer slds-table_bordered slds-table_striped" aria-label="linea de ordenes">
              <colgroup>
                <col style="width: 33.33%">
                <col style="width: 33.33%">
                <col style="width: 33.33%">
              </colgroup>
              <thead>
                <tr class="slds-line-height_reset">
                  <th class="" scope="col">
                    <div class="slds-truncate" title="ID Tienda">ID Tienda</div>
                  </th>
                  <th class="" scope="col">
                    <div class="slds-truncate" title="Ultima modificación">Ultima modificación</div>
                  </th>
                  <th class="" scope="col">
                    <div class="slds-truncate" title="Estado">Estado</div>
                  </th>
                </tr>
              </thead>
              <tbody>
                <template for:each={listTiendasActivas} for:item="record">
                  <tr class="slds-hint-parent" key={record.productId}>
                    <td data-label={record.etiqueta}>
                      <div class="slds-truncate" title={record.etiqueta}>{record.etiqueta}</div>
                    </td>
                    <td data-label={record.valor}>
                      <div class="slds-truncate" title={record.valor}>{record.valor}</div>
                    </td>
                    <td data-label={record.depende} style="text-align: left;">
                      <div class="slds-truncate" title={record.depende}>{record.depende}</div>
                    </td>
                  </tr>
                </template>
              </tbody>
            </table>
          </div>
    </div>

   
</template>